<html lang="en"><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><title>happy-path-test</title><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/d3-graphviz/build/d3-graphviz.min.js"></script><script>mermaid.initialize({ startOnLoad: true, securityLevel: 'loose' });</script><style>* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: Arial, sans-serif;
    height: 100vh;
    display: flex;
}

.container {
    display: flex;
    width: 100%;
    height: 100vh;
}

.left, .right {
    height: 100%;
    overflow: auto;
}

.left {
    width: 50%;
}

.right {
    flex-grow: 1;
}

.divider {
    width: 8px;
    cursor: ew-resize;
    background: #888;
    position: relative;
}

.divider:hover {
    background: #555;
}
</style></head><body style="background-color:#BEC7FC;"><div class="container"><div class="mermaid left">sequenceDiagram
iphone-weather-app ->> aws-lambda: user-info request
note over iphone-weather-app: App loads user information
aws-lambda ->> iphone-weather-app: user-info response</div><div class="divider"></div><div class="right" id="app"></div></div><script src="http://localhost:8000/diagram-js/main.js"></script><script>io.nextdoc.sketch.browser.diagram_app.load("{:diffs [[[[] :r {}]] [[[] :r {:core-data {:citys {}, :users {#uuid \"dec865e6-3a33-4e20-a4bc-3554f8a4b596\" {:user-name \"Rich\"}}}}]] [[[:env] :+ {\"API_KEY\" \"secretkey\"}] [[:ddb] :+ {:citys {}, :users {}}]] [[[:ddb :users] :r {#uuid \"b6878ccf-28b2-4625-a71f-83075a6a1dca\" {:user-name \"Rich\", :status :active}}]]], :emits {0 2, 1 4}, :latest {:core-data {:citys {}, :users {#uuid \"dec865e6-3a33-4e20-a4bc-3554f8a4b596\" {:user-name \"Rich\"}}}, :env {\"API_KEY\" \"secretkey\"}, :ddb {:citys {}, :users {#uuid \"b6878ccf-28b2-4625-a71f-83075a6a1dca\" {:user-name \"Rich\", :status :active}}}}}", "{:locations {:iphone {:id :iphone, :name \"Mobile Device\", :state {:core-data {:id :core-data, :type :database, :name \"Core Data Services\", :entities #{:city :user}}}, :actors {:weather-app {:id :weather-app, :name \"weather app installed from App Store\", :ports {:http-client {:id :http-client, :name \"Swift HTTP client\"}}}}}, :aws {:id :aws, :name \"Amazon Web Services\", :state {:env {:id :env, :name \"Lambda environment variables\", :type :associative, :entities #{:env}}, :ddb {:id :ddb, :name \"Dynamodb\", :type :database, :entities #{:city :user}}}, :actors {:lambda {:id :lambda, :name \"Lambda Rest APIs serving http requests\/responses\", :ports {:handler {:id :handler, :name \"JVM handlers via API Gateway\"}}}}}}, :domain-entities {:env {:id :env, :name \"Environment variables\"}, :user {:id :user, :name \"User of weather api\"}, :city {:id :city, :name \"Description of city and location\"}}, :data-flow [{:description \"App loads user information\", :from {:id :http-client, :name \"Swift HTTP client\"}, :to {:id :handler, :name \"JVM handlers via API Gateway\"}, :request :user-info} {:description \"Server notifies app that weather in currently visible city changed\", :from {:id :handler, :name \"JVM handlers via API Gateway\"}, :to {:id :http-client, :name \"Swift HTTP client\"}, :event :forecast-change}]}");</script></body></html>